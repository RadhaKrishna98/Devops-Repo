trigger: none       # Disable CI trigger for DevOps repo

pr: none            # Disable PR trigger for DevOps repo

resources:
  repositories:
    - repository: devRepo
      type: github
      name: RadhaKrishna98/next-js-hello-world
      ref: refs/heads/main
      endpoint: GitHub-Service-Connection of hello world dev repo  # ðŸ›  Replace with actual name
      trigger:
        tags:
          include:
            - '*'   # âœ… Trigger pipeline on any tag
      pr:
        branches:
          include:
            - main
        paths:
          include:
            - '*'  # Optional: remove if not needed

pool:
  vmImage: ubuntu-latest

steps:
  - checkout: devRepo

  - task: NodeTool@0
    inputs:
      versionSpec: '18.x'
    displayName: 'Install Node.js'

  - script: |
      npm install
      npm run build
    workingDirectory: $(Build.SourcesDirectory)
    displayName: 'Install and Build Next.js App'